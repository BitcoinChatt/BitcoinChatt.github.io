function isMobile()
{
  return window.innerWidth <= 1440;
}

var headerExpanded = false;
window.toggleHeaderMenu = function()
{
  console.log("wow!");
  document.getElementById("header-list").style.display = headerExpanded ? 'none' : 'block';
  headerExpanded = !headerExpanded;
}

window.onload = function()
{
  console.log('This site was generated by Hugo.');

  setupCalendar();

  setupMap();
};

function setupCalendar()
{
  if (isMobile()) {
    console.log('This site is mobile.');

    if (document.getElementById("calendar-widget"))
    {
      document.getElementById("calendar-widget").src = "https://teamup.com/kshn1rcuawwcj2uczf?view=l&showHeader=1&showLogo=1&showSearch=1&showProfileAndInfo=0&showSidepanel=1&showViewHeader=1&showAgendaDetails=0&showDateControls=1&showDateRange=1";
    }
  } else {
    console.log('This site is not mobile.');
  }
}

function setupMap()
{
  // Change these two variables and the image alignment should adjust automatically
  var iconWidth = 30;
  var iconHeight = 50;

  var businessIcon = L.icon({
    iconUrl: '/images/orange-marker-icon-2x.png',
    iconSize: [iconWidth, iconHeight],
    iconAnchor: [iconWidth / 2, iconHeight],
    popupAnchor: [0, -iconHeight],
    tooltipAnchor: [0, -iconHeight],
    shadowUrl: '/images/marker-shadow.png',
    shadowSize: [iconWidth, iconHeight],
  });

  // setup map for map page
  var map = L.map('map', {
    zoomControl: true,
    dragging: true,
    scrollWheelZoom: true,
    zoomSnap: 0.1,
    tapHold: true
  });

  var pos = [35.056145, -85.121643/*35.037366, -85.056710*/];
  if (isMobile())
  {
    map.setView(pos, 9.7);
  } else
  {
    map.setView(pos, 10);
  }
  

  while (document.getElementById('map') === null)
  {
    console.log('waiting for map');
  }

  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '© OpenStreetMap contributors'
  }).addTo(map);

  // Pin 1: Divine Design Natural Health
  L.marker([35.194250, -84.856933], {icon: businessIcon}).addTo(map)
    .bindPopup('<img src="/images/Bitcoin Businesses/DDNH/Divine Design Natural Health.jpg" style="width: 100px;"><br>' +
              '<b>Divine Design Natural Health</b><br>' +
              '<b>Address:</b> 3800 Keith St NW, Cleveland, TN 37312<br>' +
              '<b>Phone:</b> 423-800-6800<br>' +
              '<b>Hours:</b> Mon-Thurs, 10AM-6PM<br>' +
              '<b>Website:</b> <a href="https://divinedesignnaturalhealth.com" target="_blank">DivineDesignNaturalHealth.com</a>');

  // Pin 2: Calvary Chapel
  L.marker([35.0157164, -85.3241693], {icon: businessIcon}).addTo(map)
    .bindPopup('<img src="/images/Bitcoin Businesses/Calvary Chapel/Calvary Chapel.jpg" style="width: 100px;"><br>' +
              '<b>Calvary Chapel Chattanooga</b><br>' +
              '<b>Address:</b> 3415 Broad St, Chattanooga, TN 37409<br>' +
              '<b>Phone:</b> 423-752-0004<br>' +
              '<b>Hours:</b> Sat 3:30–8 PM, Sun 8:30 AM–2 PM<br>' +
              '<b>Website:</b> <a href="http://www.calvarychatt.com" target="_blank">CalvaryChatt.com</a>');

  // Pin 3: Same Day Septic
  L.marker([35.002027, -85.204528], {icon: businessIcon}).addTo(map)
    .bindPopup('<img src="/images/Bitcoin Businesses/Same Day Septic/Same Day Septic.png" style="width: 100px;"><br>' +
              '<b>Same Day Septic</b><br>' +
              '<b>Address:</b> Chattanooga, TN<br>' +
              '<b>Phone:</b> 423-834-4867<br>' +
              '<b>Hours:</b> Sun-Sat, 12AM-11:45PM<br>' +
              '<b>Website:</b> <a href="https://samedayseptic.com" target="_blank">SameDaySeptic.co</a>');

    // Pin 4: Steak 'n Shake (Fort Oglethorpe)
  L.marker([34.951935, -85.244715], {icon: businessIcon}).addTo(map)
    .bindPopup('<img src="/images/Bitcoin Businesses/Steak n Shake/Steak-n-Shake.png" style="width: 100px;"><br>' +
              '<b>Steak n Shake</b><br>' +
              '<b>Address:</b> 1182 Battlefield Pkwy, Fort Oglethorpe, GA 30742<br>' +
              '<b>Phone:</b> 706-858-1919<br>' +
              '<b>Hours:</b> Sun-Sat, 11AM-11PM<br>' +
              '<b>Website:</b> <a href="https://www.steaknshake.com/locations/ga-ft-oglethorpe-battlefield-parkway/" target="_blank">SteaknShake.com</a>');

      // Pin 5: Steak 'n Shake (Dalton)
  L.marker([34.759589, -84.989919], {icon: businessIcon}).addTo(map)
    .bindPopup('<img src="/images/Bitcoin Businesses/Steak n Shake/Steak-n-Shake.png" style="width: 100px;"><br>' +
              '<b>Steak n Shake</b><br>' +
              '<b>Address:</b> 1250 W Walnut Ave, Dalton, GA 30720<br>' +
              '<b>Phone:</b> 706-272-3300<br>' +
              '<b>Hours:</b> Sun-Sat, 11AM-12AM<br>' +
              '<b>Website:</b> <a href="https://www.steaknshake.com/locations/ga-dalton-w-walnut-avenue/" target="_blank">SteaknShake.com</a>');

        // Pin 6: Steak 'n Shake (Gunbarrel)
  L.marker([35.039848, -85.149789], {icon: businessIcon}).addTo(map)
    .bindPopup('<img src="/images/Bitcoin Businesses/Steak n Shake/Steak-n-Shake.png" style="width: 100px;"><br>' +
              '<b>Steak n Shake</b><br>' +
              '<b>Address:</b> 2296 Gunbarrel Rd, Chattanooga, TN 37421<br>' +
              '<b>Phone:</b> 423-892-2993<br>' +
              '<b>Hours:</b> Sun-Sat, 11AM-12AM<br>' +
              '<b>Website:</b> <a href="https://www.steaknshake.com/locations/tn-chattanooga-gunbarrel-road/" target="_blank">SteaknShake.com</a>');

        // Pin 7: Steak 'n Shake (Cleveland)
  L.marker([35.205077, -84.849458], {icon: businessIcon}).addTo(map)
    .bindPopup('<img src="/images/Bitcoin Businesses/Steak n Shake/Steak-n-Shake.png" style="width: 100px;"><br>' +
              '<b>Steak n Shake</b><br>' +
              '<b>Address:</b> 220 Paul Huff Pkwy NW, Cleveland, TN 37312<br>' +
              '<b>Phone:</b> 423-614-7300<br>' +
              '<b>Hours:</b> Sun-Sat, 11AM-12AM<br>' +
              '<b>Website:</b> <a href="https://www.steaknshake.com/locations/tn-cleveland-paul-huff-parkway/" target="_blank">SteaknShake.com</a>');

        // Pin 8: City Smokes
  L.marker([34.990641, -85.196578], {icon: businessIcon}).addTo(map)
    .bindPopup('<img src="/images/Bitcoin Businesses/City Smokes/City Smokes.png" style="width: 100px;"><br>' +
              '<b>City Smokes</b><br>' +
              '<b>Address:</b> 6725 Ringgold Rd, East Ridge, TN 374122<br>' +
              '<b>Phone:</b> 423-463-5997<br>' +
              '<b>Hours:</b> Mon-Thurs 10AM-9PM, Fri-Sat 10AM-10PM, Sun 11:30AM-8PM<br>' +
              '<b>Website:</b> <a href="https://www.facebook.com/profile.php?id=61556971360123" target="_blank">Facebook Page</a>');

        // Pin 9: Anchor Barber Co.
  L.marker([35.066856, -85.308845], {icon: businessIcon}).addTo(map)
    .bindPopup('<img src="/images/Bitcoin Businesses/Anchor Barber Co/Anchor Barber Co.png" style="width: 100px;"><br>' +
              '<b>Anchor Barber Co.</b><br>' +
              '<b>Address:</b> 502 N Market St, Chattanooga, TN 37405<br>' +
              '<b>Phone:</b> 423-690-7291<br>' +
              '<b>Hours:</b> Mon 10AM-6PM, Tues-Thurs 10AM-7PM, Fri 10AM-6PM, Sat 10AM-4PM<br>' +
              '<b>Website:</b> <a href="https://www.AnchorBarberCo.com" target="_blank">AnchorBarberCo.com</a>');

        // Pin 10: Gadget Mechanic
  L.marker([34.7855517, -85.003133], {icon: businessIcon}).addTo(map)
    .bindPopup('<img src="/images/Bitcoin Businesses/Gadget Mechanic/Gadget Mechanic.png" style="width: 100px;"><br>' +
              '<b>Gadget Mechanic</b><br>' +
              '<b>Address:</b> 819 N. Tibbs Road, Dalton, GA 30720<br>' +
              '<b>Phone:</b> 706-671-5835<br>' +
              '<b>Hours:</b> Mon-Fri 10AM-6PM, Sat 11AM-4PM<br>' +
              '<b>Website:</b> <a href="https://www.gadgetmechanic.us/" target="_blank">GadgetMechanic.us</a>');

        // Pin 11: Bespoke Barbershop
  L.marker([35.0315116, -85.1509364], {icon: businessIcon}).addTo(map)
    .bindPopup('<img src="/images/Bitcoin Businesses/Bespoke Barbershop/Bespoke Barbershop.png" style="width: 100px;"><br>' +
              '<b>Bespoke Barbershop</b><br>' +
              '<b>Address:</b> 2020 Gunbarrel Road 194, Suite #107, Chattanooga, TN 37421<br>' +
              '<b>Phone:</b> 928-848-9368<br>' +
              '<b>Hours:</b> Tues-Sat 11 AM–7 PM<br>' +
              '<b>Website:</b> <a href="https://www.bespokebarbershop.co/" target="_blank">BespokeBarbershop.co</a>');

        // Pin 12: First Response Towing and Recovery
  L.marker([35.0328476, -85.1940908], {icon: businessIcon}).addTo(map)
    .bindPopup('<img src="/images/Bitcoin Businesses/First Response Towing and Recovery/First Response Towing and Recovery.png" style="width: 100px;"><br>' +
              '<b>First Response Towing and Recovery</b><br>' +
              '<b>Address:</b> 980 Airport Road, Chattanooga, TN 37421<br>' +
              '<b>Phone:</b> 423-702-5074<br>' +
              '<b>Hours:</b> 24/7<br>' +
              '<b>Website:</b> <a href="https://www.firstresponsetowingandrecovery.com/" target="_blank">FirstResponseTowingAndRecovery.com</a>');

        // Pin 13: Standard Ink Tattoo Company
  L.marker([35.0611373, -85.3036354], {icon: businessIcon}).addTo(map)
    .bindPopup('<img src="/images/Bitcoin Businesses/Standard Ink Tattoo Company/Standard Ink Tattoo Company.png" style="width: 100px;"><br>' +
              '<b>Standard Ink Tattoo Company</b><br>' +
              '<b>Address:</b> 434 Frazier Avenue, Chattanooga, TN 37405<br>' +
              '<b>Phone:</b> 423-490-9819<br>' +
              '<b>Hours:</b> Sun 12-10PM, Mon-Thurs 12-9PM, Fri-Sat 12PM-12AM<br>' +
              '<b>Website:</b> <a href="https://www.facebook.com/standardink" target="_blank">Facebook Page</a>');

        // Pin 14: Organizational Change Solutions
  L.marker([35.1971021, -84.8947589], {icon: businessIcon}).addTo(map)
    .bindPopup('<img src="/images/Bitcoin Businesses/Organizational Change Solutions/Organizational Change Solutions.png" style="width: 100px;"><br>' +
              '<b>Organizational Change Solutions</b><br>' +
              '<b>Address:</b> 2250 Candies Lane NW, A, Cleveland, TN 37312<br>');

        // Pin 15: Running Wild Inflatables
  L.marker([35.2492368, -85.1857456], {icon: businessIcon}).addTo(map)
    .bindPopup('<img src="/images/Bitcoin Businesses/Running Wild Inflatables/Running Wild Inflatables.png" style="width: 100px;"><br>' +
              '<b>Running Wild Inflatables</b><br>' +
              '<b>Address:</b> 9917 Dayton Pike, Soddy-Daisy, TN 37379<br>' +
              '<b>Phone:</b> 423-401-8611<br>' +
              '<b>Hours:</b> Sun-Sat 8AM-9PM<br>' +
              '<b>Website:</b> <a href="http://www.runningwildinflatables.com/" target="_blank">RunningWildInflatables.com</a>');
}
