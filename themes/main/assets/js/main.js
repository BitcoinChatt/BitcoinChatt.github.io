function isMobile()
{
  return window.innerWidth <= 1440;
}

var headerExpanded = false;
window.toggleHeaderMenu = function()
{
  console.log("wow!");
  document.getElementById("header-list").style.display = headerExpanded ? 'none' : 'block';
  headerExpanded = !headerExpanded;
}

window.onload = function()
{
  console.log('This site was generated by Hugo.');

  if (isMobile()) {
    console.log('This site is mobile.');

    if (document.getElementById("calendar-widget"))
    {
      document.getElementById("calendar-widget").src = "https://teamup.com/kshn1rcuawwcj2uczf?view=l&showHeader=1&showLogo=1&showSearch=1&showProfileAndInfo=0&showSidepanel=1&showViewHeader=1&showAgendaDetails=0&showDateControls=1&showDateRange=1";
    }
  } else {
    console.log('This site is not mobile.');
  }

  // Change these two variables and the image alignment should adjust automatically
  var iconWidth = 30;
  var iconHeight = 50;

  var businessIcon = L.icon({
    iconUrl: '/images/marker-icon-2x.png',
    iconSize: [iconWidth, iconHeight],
    iconAnchor: [iconWidth / 2, iconHeight],
    popupAnchor: [0, -iconHeight],
    tooltipAnchor: [0, -iconHeight],
    shadowUrl: '/images/marker-shadow.png',
    shadowSize: [iconWidth, iconHeight],
  });

  // setup map for map page
  var map = L.map('map', {
    zoomControl: true,
    dragging: true,
    scrollWheelZoom: true,
    zoomSnap: 0.1,
    tapHold: true
  });

  var pos = [35.056145, -85.121643/*35.037366, -85.056710*/];
  if (isMobile())
  {
    map.setView(pos, 9.7);
  } else
  {
    map.setView(pos, 11);
  }
  

  while (document.getElementById('map') === null)
    {
      console.log('waiting for map');
    }

  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: 'Â© OpenStreetMap contributors'
  }).addTo(map);

  // Pin 1: Divine Design Natural Health
  L.marker([35.194250, -84.856933], {icon: businessIcon}).addTo(map)
    .bindPopup('<img src="/images/Bitcoin Businesses/DDNH/Divine Design Natural Health.jpg" style="width: 100px;"><br>' +
              '<b>Divine Design Natural Health</b><br>' +
              '<b>Address:</b> 3800 Keith St NW, Cleveland, TN 37312<br>' +
              '<b>Phone:</b> 423-800-6800<br>' +
              '<b>Hours:</b> Mon-Thurs, 10AM-6PM<br>' +
              '<b>Website:</b> <a href="https://divinedesignnaturalhealth.com" target="_blank">DivineDesignNaturalHealth.com</a>');
}
